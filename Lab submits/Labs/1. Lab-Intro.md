# คลาส
## เนื้อหาเกี่ยวกับคลาส

ในการเขียนโปรแกรมยุคก่อน OOP นั้น นักเขียนโปรแกรมจะต้องทราบขั้นตอนการทำงานของโปรแกรมทั้งหมด เพื่อให้จัดการกับข้อมูลได้จนบรรลุวัตถุประสงค์ในการดำเนินงาน ส่งผลให้เกิดความยากลำบากในการบำรุงรักษาโปรแกรม เนื่องจาอทีมบำรุงรักษาต้องรู้และเข้าใจโค้ดแทบทั้งหมด ในบางครั้งเพื่อเร่งรีบให้ทันเวลาส่งมอบ ผู้เขียนมักจะเขียนแบบเร่งรีบจนทำให้เสียโครงสร้างของ source code 
 เมื่อการเขียนโปรแกรมก้าวสู่ยุคของ OOP ภาระทั้งหมดของโปรแกรมเมอร์จึงถูกแบ่งไปให้ทีมวิเคราะห์และออกแบบโปรแกรม ซึ่งจะทำการวืเคราะห์วัตถุที่อยู่ในโปรแกรมและเขียนภาพร่างการประสานงานระหว่างวัตถุย่อย ทำให้โปรแกรมเมอร์โฟกัสไปที่คลาสใดคลาสหนึ่งที่ได้รับมอบหมาย ทำให้เขียนโปรแกรมและบำรุงรักษาได้อย่างมีประสิทธิภาพมากขึ้น
 
**คลาสช่วยให้แนวคิด ADT ประสบผลสำเร็จ**
เมื่อนำแนวคิดของการเขียนโปรแกรมเลียนแบบวัตถุแบบ OOP มาใช้งาน นักออกแบบและพัฒนาโปรแกรมพบว่าแนวคิดของคลาสนั้นรองรับการเขียนโปรแกรมแบบสำหรับชนิดข้อมูลเชิงนามธรรม (Abstract Data Type) ได้เป็นอย่างดี เนื่องจากโครงสร้างของคลาสนั้นรองรับการห่อหุ้มเอา data members และ function mamber ที่สอดคล้องกับการให้นิยามข้อมูลชนิดใหม่ๆ ได้เอง เช่น วัตถุชนิด เวลา วันที่ ตัวเลขจำนวนเชืงซ้อน เป็นต้น

คลาสในภาษา C# สามารถมีจำนวน data mamber และ function member ได้อย่างไม่จำกัดทั้งชนิดและจำนวน ทำให้เราสามารถนิยามชนิดข้อมูลใหม่ๆ ได้ทั้งจากชนิดข้อมูลพื้นฐานและชนิดข้อมูลที่นิยามขึ้นเองก็ได้

สิ่งที่ภาษา C# ต่างจากภาษา C และ C++ ก็คือในภาษา C# จะไม่สามารถสร้าง global variables ได้ ดังนั้นถ้าจะสร้างตัวแปรใดๆ ขึ้นมาใช้งาน จะต้องระบุไว้ภายในคลาสเท่านั้น

### สมาชิกภายในคลาส

* Data member
  * Fields
  * Constants

* Function member
  * Methods 
  * Propertues
  * Constructor
  * Destructor
  * Operator
  * Indexers
  * Events


### การสร้างคลาส
ถึงแม้ว่า C# ขะได้จัดเตรียมตัวแปรชนิดต่างๆ เช่น int, double, long, float ไว้ให้ใช้งานแล้วก็ตาม แต่ในบางครั้งเราจะพบว่า มีชนิดข้อมูลชนิดอื่นๆ อีกเป็นจำนวนไม่น้อยที่เราค้องการ เพื่อนำมาเขียนโปรแกรมได้อย่างรวดเร็วและราบรื่น เช่น ข้อมูลชนิด วันที่ เวลา เป็นต้น 

*** 
### ส่วนประกอบหลักของคลาส
1. ชื่อคลาส (The class name)
2. สมาชิกของคลาส (The members of class)
3. คุณลักษณะหรือความสามารถของคลาส (The Charactoristic ของคลาส)

***

## ตัวอย่างการเขียนคลาส

``` C#
class MyExcellentClass
{
    MemberDeclarations
}
```
## สมาชิกของคลาส


### 1. Fields
Fields  เป็นตัวแปรชนิดหนึ่ง ที่เป็นสมาชิกของคลาส 
- ฟิลด์สามารถเป็นข้อมูลประเภทใด ๆ ก็ได้ ทั้งชนิดที่ภาษากำหนดไว้ล่วงหน้าหรือผู้ใช้กำหนดเอง
- ฟิลด์สามารถเก็บข้อมูลได้
- สามารถเขียนข้อมูลไปยังฟิลด์ได้
- สามารถอ่านข้อมูลจากฟิลด์ได้

ไวยากรณ์ขั้นต่ำสำหรับการประกาศฟอลด์มีดังต่อไปนี้:

``` C#
    Type Identifier;
```

ตัวอย่างการเขียนฟิลด์

``` C#
class MyClass
{ 
    int MyField;
} 
```

### การกำหนดค่าเริ่มต้นให้ฟิลด์
เนื่องจากฟิลด์เป็นข้อมูลชนิดหนึ่ง หน้าที่ของฟิลด์จึงมีไว้สำหรับเก็บข้อมูล ถ้าหากมีการใช้งานฟิลด์ที่ยังไม่ได้บรรจุค่าใดๆ ก็จะทำให้เกิดปัญหาใหญ่ตามมา
การกำหนดค่าให้กับตัวแปรชนิดฟิลด์ก็ทำได้ง่ายๆ เช่นเดียวกับตัวแปรชนิดอื่นๆ โดยการใช้เครื่องหมาย = ในการกำหนดค่า
ค่าที่กำหนดให้กับฟิลด์จะต้องทราบค่าในขณะคอมไพล์ ดังตัวอย่าง

``` C#
class MyClass
{
    int MyScore = 77;
}
```
ถ้าเราไม่ได้กำหนดค่าเริ่มต้นใดๆ คอมไพเลอร์จะกำหนดค่าเริ่มต้นให้เราเอง ดังตารางต่อไปนี้


|  Name   | Default Value |
|---------|---------------|
| sbyte   | 0             |
| byte    | 0             |
| short   | 0             |
| ushort  | 0             |
| int     | 0             |
| uint    | 0             |
| long    | 0             |
| ulong   | 0             |
| float   | 0.0f          |
| double  | 0.0d          |
| bool    | false         |
| char    | \x0000        |
| decimal | 0m            |

- ตัวอย่างการกำหนดค่าเริ่มต้นให้กับตัวแปรฟิลด์


``` C#
class MyClass
{
    int F1;             // กำหนดค่าเริ่มต้นเป็น 0 - value type
    string F2;          // กำหนดค่าเริ่มต้นเป็น null - reference type
    int F3 = 25;        // กำหนดค่าเริ่มต้นเป็น 25
    string F4 = "abcd"; // กำหนดค่าเริ่มต้นเป็น "abcd"
}
```

### การประกาศฟิลด์มากกว่า 1 ตัวในบรรทัดเดียวกัน

เราสามารถประกาศฟิลด์มากกว่า 1 ตัวในบรรทัดเดียวกันได้ โดยฟิลด์เหล่านั้นจะต้องมีประเภทเดียวกัน ดังตัวอย่าง
``` C#
int F1, F3 = 25;
string F2, F4 = "abcd";
```

### 2. Method
Method เป็นส่วน (block) ของโคดที่สามารถรันได้จากส่วนใดๆ ของโปรแกรม หรือแม้กระทั่งรันจากโปรแกรมอื่นๆ อีกทั้งสามารถเป็น method ที่ไม่มีขื่อ (anonymous method) ก็ได้ (จะกล่าวถึงในเรื่อง anonymous method)
การใช้งาน method จะมีชื่อเรียกได้หลายอย่างตามกรรมวิธีการเรียก เช่น involked, called เป็นต้น เมื่อถูกเรียกใช้งาน โค้ดที่อยู่ภายในเมธอดจะทำงานตามลำดับขั้นของเมธอดเองและทำไปจนจบเมธอด โดยผู้เรียกไม่สามารถควบคุมเมธอดนั้นได้ ดังนั้นถ้าหากต้องการให้ผู้เรียกสามารถมีการตัดสินใจดำเนินการใดๆ ระหว่างโค้ดของเมธอด จะต้องแบ่งเมธอดนั้นออกเป็นส่วนๆ หรือเขียนโปรแกรมในลักษณะ  multitasking เพื่อให้เมธอดรอเหตุการณ์จากผู้เรียก
ส่วนประกอบหลักของการเขียนเมธอดประกอบด้วย
1. `Return type` เป็นการบอกให้คอมไพเลอร์และผู้ใช้เมธอดทราบว่า เมธอดจะส่งค่ากลับในประเภทใด ถ้าเมธอดไม่ได้ส่งค่ากลับเลย ให้กำหนด return type เป็น `void`
2. `Name`  เป็นชื่อของเมธอด ต้องตั้งตามหลักการตั้งชื่อในภาษา C#
3. `Parameter list`  เป็นวงเล็บ สามารถเว้นว่างหรือมีตัวแปรประเภทต่างๆ ได้ 
4. `Method body`  เป็นส่วนบล็อกของโค้ดที่ใช้ในการทำงาน (ใช้วงเล็บปีกกากำหนดขอบเขตของ body)




